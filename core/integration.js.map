{"version":3,"file":"integration.js","sourceRoot":"","sources":["integration.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n * devextreme-angular\n * Version: 19.1.6\n * Build date: Thu Sep 19 2019\n *\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-angular\n */\n\n\r\nimport { NgModule, Inject, NgZone, Optional } from '@angular/core';\r\nimport { XhrFactory } from '@angular/common/http';\r\nimport * as httpRequest from 'devextreme/core/http_request';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport * as domAdapter from 'devextreme/core/dom_adapter';\r\nimport * as readyCallbacks from 'devextreme/core/utils/ready_callbacks';\r\nimport * as eventsEngine from 'devextreme/events/core/events_engine';\r\n\r\nconst outsideZoneEvents = ['mousemove', 'mouseover', 'mouseout'];\r\nconst insideZoneEvents = ['mouseup', 'click', 'mousedown', 'transitionend', 'wheel'];\r\n\r\nlet originalAdd;\r\nlet callbacks = [];\r\nreadyCallbacks.inject({\r\n    add: function(callback) {\r\n        originalAdd = this.callBase.bind(this);\r\n        callbacks.push(callback);\r\n    }\r\n});\r\n\r\n@NgModule({})\r\nexport class DxIntegrationModule {\r\n    constructor(@Inject(DOCUMENT) document: any, ngZone: NgZone, @Optional() xhrFactory: XhrFactory) {\r\n        domAdapter.inject({\r\n            _document: document,\r\n\r\n            listen: function(...args) {\r\n                const eventName = args[1];\r\n                if (outsideZoneEvents.indexOf(eventName) !== -1) {\r\n                    return ngZone.runOutsideAngular(() => {\r\n                        return this.callBase.apply(this, args);\r\n                    });\r\n                }\r\n\r\n                if (ngZone.isStable && insideZoneEvents.indexOf(eventName) !== -1) {\r\n                    return ngZone.run(() => {\r\n                        return this.callBase.apply(this, args);\r\n                    });\r\n                }\r\n\r\n                return this.callBase.apply(this, args);\r\n            },\r\n\r\n            isElementNode: function(element) {\r\n                return element && element.nodeType === 1;\r\n            },\r\n\r\n            isTextNode: function(element) {\r\n                return element && element.nodeType === 3;\r\n            },\r\n\r\n            isDocument: function(element) {\r\n                return element && element.nodeType === 9;\r\n            }\r\n        });\r\n\r\n        httpRequest.inject({\r\n            getXhr: function() {\r\n                if (!xhrFactory) {\r\n                    return this.callBase.apply(this);\r\n                }\r\n                let _xhr = xhrFactory.build();\r\n                if (!('withCredentials' in _xhr)) {\r\n                    _xhr['withCredentials'] = false;\r\n                }\r\n\r\n                return _xhr;\r\n            }\r\n        });\r\n\r\n        ngZone.run(() => {\r\n            eventsEngine.set({});\r\n            callbacks.forEach(callback => originalAdd.call(null, callback));\r\n            callbacks = [];\r\n            readyCallbacks.fire();\r\n        });\r\n    }\r\n}\r\n"]}